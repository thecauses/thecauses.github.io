[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Understanding the Causes of Things",
    "section": "",
    "text": "Preface\nHow does raising the minimum wage cause unemployment levels to change? How does going to university cause our career earnings to change? How does taking the vaccine cause our chances of getting the disease to change? From economics to health, politics to physics, causation is key.\nWe have all heard of the saying - “correlation is not causation”. But what does that actually mean? How do we go from an observed correlation to finding the causal effect?\nThis booklet aims to teach the fundamentals of causal inference, while relying on as little mathematics and complexity as possible. The goal is that with the knowledge in this booklet, you will be able to critically assess the claims of others - is it truly causation or just correlation? You will also be able to conduct your own causal analysis using the R programming language.",
    "crumbs": [
      "Preface"
    ]
  },
  {
    "objectID": "intro.html",
    "href": "intro.html",
    "title": "1  Introduction",
    "section": "",
    "text": "This is a book created from markdown and executable code.\nSee Knuth (1984) for additional discussion of literate programming.\n\n1 + 1\n\n[1] 2\n\n\n\n\n\n\nKnuth, Donald E. 1984. “Literate Programming.” Comput. J. 27 (2): 97–111. https://doi.org/10.1093/comjnl/27.2.97.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "summary.html",
    "href": "summary.html",
    "title": "2  Summary",
    "section": "",
    "text": "In summary, this book has no content whatsoever.\n\n1 + 1\n\n[1] 2",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Summary</span>"
    ]
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "References",
    "section": "",
    "text": "Knuth, Donald E. 1984. “Literate Programming.” Comput.\nJ. 27 (2): 97–111. https://doi.org/10.1093/comjnl/27.2.97.",
    "crumbs": [
      "References"
    ]
  },
  {
    "objectID": "index.html#prerequisites",
    "href": "index.html#prerequisites",
    "title": "Understanding the Causes of Things",
    "section": "Prerequisites",
    "text": "Prerequisites\nI aim to avoid as much mathematics and technical notation as possible. I recommend that before starting, one has an understanding of basic statistical concepts, such as average/mean, and some simple high-school level algebra. Some understanding of statistical inference and simple linear regression is desirable but not required.\nI provide R-code to implement the methods I discuss in this booklet. While I provide the code for the methods, I do not teach how to code in R in this booklet. Thus, if you wish to implement these methods, I recommend looking at simple tutorials regarding coding in R.\nI also provide some more detailed notes in blue drop-down info boxes, for those who are interested in a more thorough approach.",
    "crumbs": [
      "Preface"
    ]
  },
  {
    "objectID": "index.html#layout",
    "href": "index.html#layout",
    "title": "Understanding the Causes of Things",
    "section": "Layout",
    "text": "Layout\nThis booklet is laid out in the following manner:\n\nIn the first two chapters, we discuss the basics of causal inference: what is causation, how is it different from correlation, and what are the challenges of finding causal effects.\nFor the remaining main chapters, we discuss different methods to estimate causal effects.\nIn the appendix: additional topics section, I also provide other methods that may be used to complement the main methods of causal inference.",
    "crumbs": [
      "Preface"
    ]
  },
  {
    "objectID": "correlation.html",
    "href": "correlation.html",
    "title": "1  Correlation vs. Causation",
    "section": "",
    "text": "Treatment and Outcomes\nIn causal inference, we are concerned with how a treatment causes some change in the outcome variable:\nIn this course, we mostly assume that the treatment variable is binary. This means that the treatment can take one of two values - you either have received the treatment, or did not receive the treatment. For example, you either received the vaccine, or you didn’t.\nWe typically notate the treatment as \\(D\\) for notation simplicity:\n\\[\nD = \\begin{cases}\n0 \\quad \\text{You did not receive the treatment} \\\\\n1 \\quad \\text{You did receive the treatment}\n\\end{cases}\n\\]\nThe outcome variable is the variable of interest that changes as a result of either receiving or not receiving treatment. For example, your expected lifetime earnings changes depending on if you went to college or not.\nWe typically notate the outcome variable as \\(Y\\).",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Correlation vs. Causation</span>"
    ]
  },
  {
    "objectID": "correlation.html#overview",
    "href": "correlation.html#overview",
    "title": "1  Correlation vs. Causation",
    "section": "",
    "text": "Define what treatment and outcome variables are.\nDiscuss the concept of correlation.\nDiscuss how confounders and selection bias mean correlation is not equal to causation.\nBriefly discuss broad ideas of how we can address the issues of confounders and selection bias to go from correlation to causation.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Correlation vs. Causation</span>"
    ]
  },
  {
    "objectID": "correlation.html#treatment-and-outcomes",
    "href": "correlation.html#treatment-and-outcomes",
    "title": "1  Correlation vs. Causation",
    "section": "",
    "text": "How does taking the vaccine cause change in mortality rates.\nHow does going to college change your expected lifetime earnings.\nHow does the presence of tax exemptions on electric vehicles change how many electric vehicles are sold.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Correlation vs. Causation</span>"
    ]
  },
  {
    "objectID": "correlation.html#correlations-between-variables",
    "href": "correlation.html#correlations-between-variables",
    "title": "1  Correlation vs. Causation",
    "section": "Correlations between Variables",
    "text": "Correlations between Variables\nOne way we can analyse the relationship between a treatment and an outcome is with a correlation. Correlation is how one variable changes when the other variable changes.\nFor example, let us say that our treatment is whether or not you went to college. Our outcome of interest is you career earnings.\n\nTo calculate a correlation measure, we would simply find the average career earnings of someone who didn’t go to college, and the average career earnings of someone who did go to college.\nOnce we have these averages, we can compare them. If by going to college, you get a higher average career earnings, then going to college is positively correlated with career earnings.\nThe opposite is also true: if by going to college, you get a lower average career earnings, then going to college is negatively correlated with career earnings.\nIf going to college and not going to college have the same career earnings, then we say that going to college is not correlated with career earnings.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Correlation vs. Causation</span>"
    ]
  },
  {
    "objectID": "correlation.html#confounders-and-selection-bias",
    "href": "correlation.html#confounders-and-selection-bias",
    "title": "1  Correlation vs. Causation",
    "section": "Confounders and Selection Bias",
    "text": "Confounders and Selection Bias\nWe just learned what correlation is. You probably have heard the phrase: “correlation is not causation”. But what does this mean?\nLet us take an example. Imagine that our treatment \\(D\\) is if you go to the hospital or not, and \\(Y\\) is some measure of your health. Our causal question is thus: how does going to the hospital cause your health to change?\nIf we just collect correlation data, we likely find the following:\n\nThe average health outcome \\(Y\\) of individuals who went to the hospital (got the treatment) is quite low.\nThe average health outcome \\(Y\\) of individuals who did not go to the hospital (did not get the treatment) is quite high.\n\nThus, based on our discussion on correlation, we find that going to the hospital is correlated with worse health outcomes. Does this mean that going to the hospital worsens your health?\nThe answer is no! The reason we have a negative correlation is because of a confounding variable. A confounder is a third variable, that is correlated with our outcome \\(Y\\), while also affecting who gets and doesn’t get the treatment \\(D\\).\nIn this example, a confounder could be smoking. Smoking will be negatively correlated with health outcome \\(Y\\). Someone who smokes is also more likely to visit the hospital with health complications, and thus, is more likely to get the treatment \\(D\\).\nSince smokers on average have worse health outcomes \\(Y\\), and they are more likely to go to the hospital and get the treatment \\(D\\), that means people who go to the hospital (get the treatment) start out with worse health outcomes than people who did not go to the hospital.\nThis means that the hospital might actually be boosting these unhealthy people’s health outcomes significantly. But since the people going to the hospital start out with such bad health, even the positive effects and treatment of the hospital cannot get their average health outcome \\(Y\\) to be equal to the people who did not go to the hospital.\nThus, while our correlation says that going to the hospital worsens our health outcomes, the actual causal effect is that going to the hospital boosts our health outcomes. The reason the correlation is wrong is because people who go to the hospital already start with worse health outcomes, so the positive benefits of going to the hospital cannot catch up with the already good health outcomes of individuals who did not go to the hospital.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Correlation vs. Causation</span>"
    ]
  },
  {
    "objectID": "correlation.html#correlation-is-not-causation",
    "href": "correlation.html#correlation-is-not-causation",
    "title": "1  Correlation vs. Causation",
    "section": "Correlation is not Causation",
    "text": "Correlation is not Causation\nYou probably have heard the phrase: “correlation is not causation”. But what does this mean?\nLet us take an example. Imagine that our treatment is if you go to the hospital or not, and our outcome is some measure of your health. Our causal question is thus: how does going to the hospital cause your health to change?\nIf we just collect correlation data, we likely find the following:\n\nThe average health outcome of individuals who went to the hospital (got the treatment) is quite low.\nThe average health outcome of individuals who did not go to the hospital (did not get the treatment) is quite high.\n\nThus, based on our discussion on correlation, we find that going to the hospital is correlated with worse health outcomes. Does this mean that going to the hospital worsens your health?\nThe answer is no! The reason we have a negative correlation is because of a confounding variable. A confounder is a third variable, that is correlated with our outcome, while also affecting who gets and doesn’t get the treatment.\n\nIn this example, a confounder could be smoking. Smoking will be negatively correlated with health outcome. Someone who smokes is also more likely to visit the hospital with health complications, and thus, is more likely to get the treatment.\nSince smokers on average have worse health outcomes, and they are more likely to go to the hospital and get the treatment, that means people who go to the hospital (get the treatment) start out with worse health outcomes than people who did not go to the hospital.\n\nThis means that the hospital might actually be boosting these unhealthy people’s health outcomes significantly. But since the people going to the hospital start out with such bad health, even the positive effects and treatment of the hospital cannot get their average health outcome to be equal to the people who did not go to the hospital.\nThus, while our correlation says that going to the hospital worsens our health outcomes, the actual causal effect is that going to the hospital boosts our health outcomes.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Correlation vs. Causation</span>"
    ]
  },
  {
    "objectID": "correlation.html#formalising-confounders",
    "href": "correlation.html#formalising-confounders",
    "title": "1  Correlation vs. Causation",
    "section": "Formalising Confounders",
    "text": "Formalising Confounders\nTo dive deeper into causal inference, we need to formally define confounders. Confounders, often notated with a \\(X\\), are variables that meet the following characteristics:\n\nThe confounder is correlated (either positively or negatively) with the outcome variable of interest.\nThe confounder causes who gets and doesn’t get the treatment.\nThe confounder is not itself caused by the treatment.\n\nWe often explore confounders graphically:\n\n\n\n\n\n\\(X\\) is a confounder. It is correlated with outcome \\(Y\\) (as shown by the arrow \\(X\\rightarrow Y\\) ), and it causes who gets and doesn’t get the treatment \\(D\\) (as shown by the arrow \\(X \\rightarrow D\\)).\n\\(V\\) is not a confounder. Why? \\(V\\) does not cause who gets and doesn’t get the treatment - note that the arrow is pointing from \\(D \\rightarrow V\\), meaning treatment \\(D\\) is causing \\(V\\), and not the other way around.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Correlation vs. Causation</span>"
    ]
  },
  {
    "objectID": "correlation.html#dealing-with-confounders",
    "href": "correlation.html#dealing-with-confounders",
    "title": "1  Correlation vs. Causation",
    "section": "Dealing with Confounders",
    "text": "Dealing with Confounders\nWe have discussed how the presence of confounders can result in our correlation being completely different from the causal effect.\nTo get the correct causal effect of a treatment on an outcome, we must find some way to “account” for confounder. There are two main ways we do this in causal inference:\n\nWe control for confounders. This basically means we account for the influence of confounder \\(X\\), and get rid of that part of influence.\nWe determine who gets treated. For example, if we randomly decide who gets the treatment and who doesn’t (such as flipping a coin), that means we the researchers are controlling who gets the treatment, and not the confounder. Thus, the confounder no longer determines who gets and doesn’t get the treatment, and thus is no longer a confounder.\n\nWe will cover a variety of different causal research designs from chapter 3 onwards, which will apply these strategies to isolate causal effects, and go from correlation to causation.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Correlation vs. Causation</span>"
    ]
  },
  {
    "objectID": "frameworks.html",
    "href": "frameworks.html",
    "title": "2  Causal Frameworks",
    "section": "",
    "text": "Potential Outcomes Framework\nIn the last chapter, we discussed how correlation is not equal to causation. However, we did not formally define what causation is.\nImagine we have two hypothetical parallel worlds - copies of the current world. Both of these worlds are identical except for one aspect: the treatment. In one world, you get the treatment, and in the other parallel world, you do not get the treatment.\nThese two outcome variable values are called potential outcomes.\nSince these two hypothetical parallel worlds are identical to each other, with the only difference being that in one world, you get the treatment, any difference in your outcome variable value must be a result of the treatment.\nUsing this fact, we know the individual treatment effect (notated \\(\\tau\\)) of our treatment is simply the difference in potential outcomes between these two worlds:\n\\[\n\\tau = \\textcolor{purple}{Y(1)} - \\textcolor{purple}{Y(0)}\n\\]",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Causal Frameworks</span>"
    ]
  },
  {
    "objectID": "frameworks.html#potential-outcomes-framework",
    "href": "frameworks.html#potential-outcomes-framework",
    "title": "2  Causal Frameworks",
    "section": "",
    "text": "World\nTreatment \\(D\\)\nOutcome \\(Y\\)\n\n\n\n\n0\nDoes not Receive Treatment\n\\(\\textcolor{purple}{Y(0)}\\)\n\n\n1\nReceives Treatment\n\\(\\textcolor{purple}{Y(1)}\\)\n\n\n\n\n\n\n\n\n\n\n\n\n\nStable Unit Treatment Value Assumption\n\n\n\n\n\nThe potential outcomes framework described above, with two parallel worlds, depends on a key assumption, called the stable unit treatment value assumption (SUTVA).\nLet us say we have multiple people in our study, including person A and B. SUTVA essentially says that if person A gets the treatment, that does not affect the outcome values of person B.\nThe reason this is important is that if A’s treatment status affects B’s outcome, then we would have more than 2 potential worlds - not just B getting the treatment or not, but also if A got the treatment or not. Common causes of SUTVA violations include:\n\nSpill-over effects. For example, if we are testing a new curriculum’s impact on student performance, student A who got the new curriculum might teach/tutor their friend, student B, which affects their outcomes.\nDilution: For example, in vaccines, there is herd immunity. That mean other people getting the vaccines improves my health outcomes.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Causal Frameworks</span>"
    ]
  },
  {
    "objectID": "frameworks.html#the-fundamental-problem",
    "href": "frameworks.html#the-fundamental-problem",
    "title": "2  Causal Frameworks",
    "section": "The Fundamental Problem",
    "text": "The Fundamental Problem\nHowever, we have an issue - in reality, we do not have two parallel realities, one where you get the treatment, and another you don’t get the treatment. In the real world, someone either gets the treatment, or doesn’t get the treatment.\n\nIn the real world, you either got the vaccine, or didn’t get the vaccine.\n\nThus, by definition, one of the potential outcomes is not observed in the real world. The potential outcome not observed in the real world is called the counterfactual.\n\n\n\n\n\n\n\n\nIn the Real World\nObserved Outcome\nCounterfactual\n\n\n\n\nI receive treatment\n\\(\\textcolor{purple}{Y(1)}\\)\n\\(\\textcolor{purple}{Y(0)}\\)\n\n\nI did not receive treatment\n\\(\\textcolor{purple}{Y(0)}\\)\n\\(\\textcolor{purple}{Y(1)}\\)\n\n\n\nRemember our individual treatment effect \\(\\tau\\):\n\\[\n\\tau = \\textcolor{purple}{Y(1)} - \\textcolor{purple}{Y(0)}\n\\]\nThe fundamental problem of causal inference is that in order to find our treatment effect \\(\\tau\\), we need both potential outcomes. However, we can never observe both. Our goal in causal inference will be to estimate/approximate these counterfactuals in order to estimate the causal effects.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Causal Frameworks</span>"
    ]
  },
  {
    "objectID": "frameworks.html#causal-estimands",
    "href": "frameworks.html#causal-estimands",
    "title": "2  Causal Frameworks",
    "section": "Causal Estimands",
    "text": "Causal Estimands\nAn estimand is a true real-world value that we want to estimate. For example, the individual treatment effect \\(\\tau\\) is an estimand - the true treatment effect as defined by the parallel world potential outcomes:\n\\[\n\\tau = \\textcolor{purple}{Y(1)} - \\textcolor{purple}{Y(0)}\n\\]\nHowever, because of the fundamental problem of causal inference, it is almost impossible to estimate the individual treatment effect \\(\\tau\\) for every person.\nWe instead mostly focus on averaged group estimands - essentially the average treatment effect for different groups of people. This is because it is easier to estimate counterfactual outcomes in groups. The main causal estimands are:\n\nAverage Treatment Effect (ATE): This is exactly what it sounds like - the average of individual treatment effects \\(\\tau\\), for all individuals in our study. This means for both individuals who received and didn’t receive the treatment.\nAverage Treatment Effect on the Treated (ATT): This is the average of individual treatment effects \\(\\tau\\), but only for individuals who receive the treatment in our study. We ignore those who never receive treatment in our study.\nLocal Average Treatment Effect (LATE): This is the average of individual treatment effects \\(\\tau\\), but only for a specific (local) group of individuals in a study. This group can be defined by their confounding values, or some other characteristic the individuals hold together.\n\nRemember that these are causal estimands - the true causal effects in the world. We do not have both potential outcomes, so we will need some strategy to estimate these true causal effects.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Causal Frameworks</span>"
    ]
  },
  {
    "objectID": "frameworks.html#heterogenous-treatment-effects",
    "href": "frameworks.html#heterogenous-treatment-effects",
    "title": "2  Causal Frameworks",
    "section": "Heterogenous Treatment Effects",
    "text": "Heterogenous Treatment Effects\nRemember our individual treatment effect \\(\\tau\\):\n\\[\n\\tau = \\textcolor{purple}{Y(1)} - \\textcolor{purple}{Y(0)}\n\\]\nAs the name implies, this is an individual effect, that belongs to an individual within our study. We typically have multiple individuals in a study.\nBecause we have multiple individuals in a study, we will also have multiple individual treatment effects \\(\\tau\\), one for each individual. This means we can have two scenarios:\n\nHomogenous Treatment Effects: This is when the individual treatment effects \\(\\tau\\) are equal across all individuals. This implies that the treatment has the same causal effect for everyone.\nHeterogenous Treatment Effects: This is when the individual treatment effects \\(\\tau\\) differ between individuals. This is often based on some characteristics of individuals. For example, a maternity leave policy treatment probably has different treatment effects on men vs. women.\n\nThe reason homogenous and heterogenous treatment effects are important is that they often influence what type of strategies we can use in causal estimation, as we will see later.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Causal Frameworks</span>"
    ]
  },
  {
    "objectID": "frameworks.html#uncertainty-and-inference",
    "href": "frameworks.html#uncertainty-and-inference",
    "title": "2  Causal Frameworks",
    "section": "Uncertainty and Inference",
    "text": "Uncertainty and Inference\nWe do not know the values of counterfactuals, the potential outcomes that we do not observe. Thus, we have to estimate these counterfactuals with an estimator to get causal estimates.\nHowever, an estimation process has a level of uncertainty. We cannot be sure that our estimates are accurate. We quantify that uncertainty in our causal effect estimates with a standard error. This value tells us how precise our estimates are.\n\nSmaller standard errors means we are more confident about our estimates.\nLarger standard errors means we are less certain about our estimates.\n\nWith our standard errors, we can calculate how likely that there is zero (no) causal effect (called a p-value). This procedure is called a hypothesis test.\n\nIf our p-value is less than 0.05 (5%), there is less than a 5% chance that there is zero causal effect, which implies 95%+ chance there is a causal effect. In this case, we say there is a statistically significant causal effect.\nIf our p-value is larger than 0.05 (5%), there is a greater than 5% chance that the causal effect is 0. We generally conclude that there is no statistically significant causal effect.\n\nIn most software and reports, if there is a p-value less than 5%, the authors will put stars (**) next to the estimate. If you see any stars, there is statistically significant causal effect.\n\n\n\n\n\nIn the figure above, you can see the stars *** indicate a non-zero causal effect. Do not worry about interpreting the table now - we will show more details in the following chapters.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Causal Frameworks</span>"
    ]
  }
]