[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Uncovering the Causes",
    "section": "",
    "text": "Preface\nHow does raising the minimum wage cause unemployment levels to change? How does going to university cause our career earnings to change? How does taking the vaccine cause our chances of getting the disease to change? How do diversity policies cause changes in reported discrimination?\nFrom politics to health, economics to science, causation is key. Our lives revolve around causation - yet so many of us do not understand causation.\nWe have all heard of the saying - “correlation is not causation”. But what does that actually mean? How do we go from an observed correlation to finding the causal effect?\nThis booklet aims to teach the fundamentals of causal inference, while relying on as little mathematics and complexity as possible. The goal is that with the knowledge in this booklet, you will be able to critically assess the claims of others - is it truly causation or just correlation? You will also be able to conduct your own causal analysis using the R programming language.",
    "crumbs": [
      "Preface"
    ]
  },
  {
    "objectID": "intro.html",
    "href": "intro.html",
    "title": "1  Introduction",
    "section": "",
    "text": "This is a book created from markdown and executable code.\nSee Knuth (1984) for additional discussion of literate programming.\n\n1 + 1\n\n[1] 2\n\n\n\n\n\n\nKnuth, Donald E. 1984. “Literate Programming.” Comput. J. 27 (2): 97–111. https://doi.org/10.1093/comjnl/27.2.97.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "summary.html",
    "href": "summary.html",
    "title": "2  Summary",
    "section": "",
    "text": "In summary, this book has no content whatsoever.\n\n1 + 1\n\n[1] 2",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Summary</span>"
    ]
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "References",
    "section": "",
    "text": "Knuth, Donald E. 1984. “Literate Programming.” Comput.\nJ. 27 (2): 97–111. https://doi.org/10.1093/comjnl/27.2.97.",
    "crumbs": [
      "References"
    ]
  },
  {
    "objectID": "index.html#prerequisites",
    "href": "index.html#prerequisites",
    "title": "Uncovering the Causes",
    "section": "Prerequisites",
    "text": "Prerequisites\nI aim to avoid as much mathematics and technical notation as possible. I recommend that before starting, one has an understanding of the following:\n\nBasic statistical concepts, such as mean/average, binary vs. continuous variables.\nBasic algebra concepts, such as slope of a linear line.\n(Optional but helpful) a basic understanding of statistical inference and simple regression.\n\nI provide R-code to implement the methods I discuss in this booklet. While I provide the code for the methods, I do not teach how to code in R in this booklet. Thus, if you wish to implement these methods, I recommend looking at simple tutorials regarding coding in R.\nI also provide some more detailed notes in blue drop-down info boxes, for those who are interested in a more thorough approach.",
    "crumbs": [
      "Preface"
    ]
  },
  {
    "objectID": "index.html#layout",
    "href": "index.html#layout",
    "title": "Uncovering the Causes",
    "section": "Layout",
    "text": "Layout\nThis booklet is laid out in the following manner:\n\nIn the first two chapters, we discuss the basics of causal inference: what is causation, how is it different from correlation, and what are the challenges of finding causal effects.\nFor the remaining main chapters, we discuss different methods to estimate causal effects.\nIn the appendix: additional topics section, I also provide other methods that may be used to complement the main methods of causal inference.",
    "crumbs": [
      "Preface"
    ]
  },
  {
    "objectID": "correlation.html",
    "href": "correlation.html",
    "title": "1  Correlation vs. Causation",
    "section": "",
    "text": "Treatment and Outcomes\nIn causal inference, we are concerned with how a treatment (notated \\(D\\)) causes some change in the outcome variable (notated \\(Y\\)).\nIn this course, we mostly assume that the treatment variable is binary. This means that you either get the treatment, or you do not get the treatment.\n\\[\nD = \\begin{cases}\n0 \\quad \\text{You did not receive the treatment} \\\\\n1 \\quad \\text{You did receive the treatment}\n\\end{cases}\n\\]\nA few examples of causal questions include:",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Correlation vs. Causation</span>"
    ]
  },
  {
    "objectID": "correlation.html#overview",
    "href": "correlation.html#overview",
    "title": "1  Correlation vs. Causation",
    "section": "",
    "text": "Define what treatment and outcome variables are.\nDiscuss the concept of correlation.\nDiscuss how confounders and selection bias mean correlation is not equal to causation.\nBriefly discuss broad ideas of how we can address the issues of confounders and selection bias to go from correlation to causation.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Correlation vs. Causation</span>"
    ]
  },
  {
    "objectID": "correlation.html#treatment-and-outcomes",
    "href": "correlation.html#treatment-and-outcomes",
    "title": "1  Correlation vs. Causation",
    "section": "",
    "text": "Our Causal Question: \\(D \\rightarrow Y\\)\nTreatment \\(D\\)\nOutcome \\(Y\\)\n\n\n\n\nHow does taking the vaccine cause change in mortality rates?\nGetting the vaccine (yes or no)\nMortality rate\n\n\nHow does going to college change your expected lifetime earnings?\nWent to college (yes or no)\nExpected lifetime earnings\n\n\nHow does the presence of tax exemptions on electric vehicles change how many electric vehicles are sold?\nTax exemptions on electric vehicles (yes or no)\nAmount of electric vehicles sold",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Correlation vs. Causation</span>"
    ]
  },
  {
    "objectID": "correlation.html#correlations-between-variables",
    "href": "correlation.html#correlations-between-variables",
    "title": "1  Correlation vs. Causation",
    "section": "Correlations between Variables",
    "text": "Correlations between Variables\nOne way we can analyse the relationship between a treatment and an outcome is with a correlation. Correlation is how one variable changes when the other variable changes.\nFor example, let us say that our treatment is whether or not you went to college. Our outcome of interest is you career earnings.\nTo calculate a correlation measure, we find the average career earnings of someone who didn’t go to college, and the average career earnings of someone who did go to college.\nOnce we have these averages, we can compare them to determine what correlation we have:\n\n\n\n\n\n\n\nType of Correlation\nHow to Identify\n\n\n\n\nPositive Correlation between going to college and average career earnings.\nIf by going to college, you get higher average career earnings.\n\n\nNegative Correlation between going to college and average career earnings.\nIf by going to college, you get lower average career earnings.\n\n\nNo Correlation between going to college and average career earnings.\nIf by going to college does not change the average career earnings.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Correlation vs. Causation</span>"
    ]
  },
  {
    "objectID": "correlation.html#confounders-and-selection-bias",
    "href": "correlation.html#confounders-and-selection-bias",
    "title": "1  Correlation vs. Causation",
    "section": "Confounders and Selection Bias",
    "text": "Confounders and Selection Bias\nWe just learned what correlation is. You probably have heard the phrase: “correlation is not causation”. But what does this mean?\nLet us take an example. Imagine that our treatment \\(D\\) is if you go to the hospital or not, and \\(Y\\) is some measure of your health. Our causal question is thus: how does going to the hospital cause your health to change?\nIf we just collect correlation data, we likely find the following:\n\nThe average health outcome \\(Y\\) of individuals who went to the hospital (got the treatment) is quite low.\nThe average health outcome \\(Y\\) of individuals who did not go to the hospital (did not get the treatment) is quite high.\n\nThus, based on our discussion on correlation, we find that going to the hospital is correlated with worse health outcomes. Does this mean that going to the hospital worsens your health?\nThe answer is no! The reason we have a negative correlation is because of a confounding variable. A confounder is a third variable, that is correlated with our outcome \\(Y\\), while also affecting who gets and doesn’t get the treatment \\(D\\).\nIn this example, a confounder could be smoking. Smoking will be negatively correlated with health outcome \\(Y\\). Someone who smokes is also more likely to visit the hospital with health complications, and thus, is more likely to get the treatment \\(D\\).\nSince smokers on average have worse health outcomes \\(Y\\), and they are more likely to go to the hospital and get the treatment \\(D\\), that means people who go to the hospital (get the treatment) start out with worse health outcomes than people who did not go to the hospital.\nThis means that the hospital might actually be boosting these unhealthy people’s health outcomes significantly. But since the people going to the hospital start out with such bad health, even the positive effects and treatment of the hospital cannot get their average health outcome \\(Y\\) to be equal to the people who did not go to the hospital.\nThus, while our correlation says that going to the hospital worsens our health outcomes, the actual causal effect is that going to the hospital boosts our health outcomes. The reason the correlation is wrong is because people who go to the hospital already start with worse health outcomes, so the positive benefits of going to the hospital cannot catch up with the already good health outcomes of individuals who did not go to the hospital.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Correlation vs. Causation</span>"
    ]
  },
  {
    "objectID": "correlation.html#correlation-is-not-causation",
    "href": "correlation.html#correlation-is-not-causation",
    "title": "1  Correlation vs. Causation",
    "section": "Correlation is not Causation",
    "text": "Correlation is not Causation\nYou probably have heard the phrase: “correlation is not causation”. But what does this mean? Imagine this causal scenario:\n\n\n\n\n\n\n\n\nOur Causal Question: \\(D \\rightarrow Y\\)\nTreatment \\(D\\)\nOutcome \\(Y\\)\n\n\n\n\nHow does going to the hospital to receive treatment affect your health?\nGoing to the hospital (yes or no)\nSome measure of health outcome\n\n\n\nIf we just collect correlation data, we likely find the following:\n\nThe average health outcome of individuals who went to the hospital is quite low.\nThe average health outcome of individuals who did not go to the hospital is quite high.\n\nThus, based on our discussion on correlation, we find that going to the hospital is correlated with worse health outcomes. Does this mean that going to the hospital worsens your health?\nThe answer is no! Our correlation is incorrectly measuring the causal effect because of a confounder. A confounder is a third variable, that is correlated with our outcome, while also affecting who gets and doesn’t get the treatment.\n\nIn this example, a confounder could be smoking. Smoking will be negatively correlated with health outcomes. Someone who smokes is also more likely to visit the hospital with health complications, and thus, is more likely to get the treatment.\nSince smokers on average have worse health outcomes, and they are more likely to go to the hospital and get the treatment.\nThat means people who go to the hospital (get the treatment) start out with worse health outcomes than people who did not go to the hospital.\n\nThis means that the hospital might actually be boosting these unhealthy people’s health outcomes significantly. But since the people going to the hospital start out with such bad health, even the positive effects and treatment of the hospital cannot get their average health outcome to be equal to the people who did not go to the hospital.\nThus, while our correlation says that going to the hospital worsens our health outcomes, the actual causal effect is that going to the hospital boosts our health outcomes. Correlation is thus not equal to causation because of confounders.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Correlation vs. Causation</span>"
    ]
  },
  {
    "objectID": "correlation.html#formalising-confounders",
    "href": "correlation.html#formalising-confounders",
    "title": "1  Correlation vs. Causation",
    "section": "Formalising Confounders",
    "text": "Formalising Confounders\nTo dive deeper into causal inference, we need to formally define confounders. Confounders, often notated with a \\(X\\), are variables that meet the following characteristics:\n\nThe confounder is correlated (positive or negative) with the outcome variable.\nThe confounder causes who gets and doesn’t get the treatment.\nThe confounder is not itself caused by the treatment.\n\nWe often explore confounders graphically with causal diagrams:\n\n\n\n\n\n\\(X\\) is a confounder. It is correlated with outcome \\(Y\\) (as shown by the arrow \\(X\\rightarrow Y\\) ), and it causes who gets and doesn’t get the treatment \\(D\\) (as shown by the arrow \\(X \\rightarrow D\\)).\n\\(V\\) is not a confounder. Why? \\(V\\) is caused by the treatment \\(D\\), as shown by the direction of the arrow. Thus, this violates the third condition above.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Correlation vs. Causation</span>"
    ]
  },
  {
    "objectID": "correlation.html#dealing-with-confounders",
    "href": "correlation.html#dealing-with-confounders",
    "title": "1  Correlation vs. Causation",
    "section": "Dealing with Confounders",
    "text": "Dealing with Confounders\nWe have discussed how the presence of confounders can result in our correlation being completely different from the causal effect.\nTo get the correct causal effect of a treatment on an outcome, we must find some way to “account” for confounder. But first, how do we identify confounders?\n\nUnfortunately, there is not some magical statistical test to find confounders.\nInstead, we have to use our own knowledge and intuition about a topic to think of potential confounders.\nTypically, researchers identify potential confounders by reading a lot about the topics they are studying, and thinking about how other variables might meet the definition of a confounder.\n\nOnce we have identified confounders, there are two main ways we do this in causal inference:\n\nWe control for confounders. This basically means we account for the influence of confounder \\(X\\), and get rid of that part of influence.\nWe determine who gets treated. For example, if we randomly decide who gets the treatment and who doesn’t (such as flipping a coin), that means we the researchers are controlling who gets the treatment, and not the confounder. Thus, the confounder no longer determines who gets and doesn’t get the treatment, and thus is no longer a confounder.\n\nWe will cover a variety of different causal research designs from chapter 3 onwards, which will apply these strategies to isolate causal effects, and go from correlation to causation.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Correlation vs. Causation</span>"
    ]
  },
  {
    "objectID": "frameworks.html",
    "href": "frameworks.html",
    "title": "2  Causal Frameworks",
    "section": "",
    "text": "Potential Outcomes Framework\nIn the last chapter, we discussed how correlation is not equal to causation. However, we did not formally define what causation is.\nImagine we have two hypothetical parallel worlds that are copies of each other. Both of these worlds are identical except for one aspect: the treatment. In one world, you get the treatment, and in the other parallel world, you do not get the treatment.\nThese two outcome variable values are called potential outcomes.\nThese two hypothetical parallel worlds are identical to each other, with the only difference being that in one world, you get the treatment. Thus, any difference in your outcome variable value must be a result of the treatment.\nUsing this fact, we know the individual treatment effect (notated \\(\\tau\\)) of our treatment is simply the difference in potential outcomes between these two worlds:\n\\[\n\\tau = \\textcolor{purple}{Y(1)} - \\textcolor{purple}{Y(0)}\n\\]",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Causal Frameworks</span>"
    ]
  },
  {
    "objectID": "frameworks.html#potential-outcomes-framework",
    "href": "frameworks.html#potential-outcomes-framework",
    "title": "2  Causal Frameworks",
    "section": "",
    "text": "World\nTreatment \\(D\\)\nOutcome \\(Y\\)\n\n\n\n\n0\nDoes not Receive Treatment\n\\(\\textcolor{purple}{Y(0)}\\)\n\n\n1\nReceives Treatment\n\\(\\textcolor{purple}{Y(1)}\\)\n\n\n\n\n\n\n\n\n\n\n\n\n\nStable Unit Treatment Value Assumption\n\n\n\n\n\nThe potential outcomes framework described above, with two parallel worlds, depends on a key assumption, called the stable unit treatment value assumption (SUTVA).\nLet us say we have multiple people in our study, including person A and B. SUTVA essentially says that if person A gets the treatment, that does not affect the outcome values of person B.\nThe reason this is important is that if A’s treatment status affects B’s outcome, then we would have more than 2 potential worlds - not just B getting the treatment or not, but also if A got the treatment or not. Common causes of SUTVA violations include:\n\nSpill-over effects. For example, if we are testing a new curriculum’s impact on student performance, student A who got the new curriculum might teach/tutor their friend, student B, which affects their outcomes.\nDilution: For example, in vaccines, there is herd immunity. That mean other people getting the vaccines improves my health outcomes.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Causal Frameworks</span>"
    ]
  },
  {
    "objectID": "frameworks.html#the-fundamental-problem",
    "href": "frameworks.html#the-fundamental-problem",
    "title": "2  Causal Frameworks",
    "section": "The Fundamental Problem",
    "text": "The Fundamental Problem\nHowever, in reality, we do not have two parallel realities, one where you get the treatment, and another you don’t get the treatment. In the real world, someone either gets the treatment, or doesn’t get the treatment.\n\nIn the real world, you either got the vaccine, or didn’t get the vaccine.\n\nThus, by definition, one of the potential outcomes is not observed in the real world. The potential outcome not observed in the real world is called the counterfactual.\n\n\n\n\n\n\n\n\nIn the Real World\nObserved Outcome\nCounterfactual\n\n\n\n\nI receive treatment\n\\(\\textcolor{purple}{Y(1)}\\)\n\\(\\textcolor{purple}{Y(0)}\\)\n\n\nI did not receive treatment\n\\(\\textcolor{purple}{Y(0)}\\)\n\\(\\textcolor{purple}{Y(1)}\\)\n\n\n\nRemember our individual treatment effect \\(\\tau\\):\n\\[\n\\tau = \\textcolor{purple}{Y(1)} - \\textcolor{purple}{Y(0)}\n\\]\nThe fundamental problem of causal inference is that in order to calculate our treatment effect \\(\\tau\\), we need both potential outcomes. However, we can never observe both. Our goal in causal inference will be to estimate/approximate the counterfactuals in order to estimate the causal effects.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Causal Frameworks</span>"
    ]
  },
  {
    "objectID": "frameworks.html#causal-estimands",
    "href": "frameworks.html#causal-estimands",
    "title": "2  Causal Frameworks",
    "section": "Causal Estimands",
    "text": "Causal Estimands\nAn estimand is some true value that we want to estimate. For example, the individual treatment effect \\(\\tau\\) is an estimand - the true treatment effect as defined by the potential outcomes:\n\\[\n\\tau = \\textcolor{purple}{Y(1)} - \\textcolor{purple}{Y(0)}\n\\]\nHowever, because of the The Fundamental Problem, it is almost impossible to estimate the individual treatment effect \\(\\tau\\) for every person.\nWe instead mostly focus on averaged group estimands - essentially the average treatment effect for different groups of people. This is because it is easier to estimate counterfactual outcomes in groups. The main causal estimands are:\n\n\n\n\n\n\n\n\nEstimand\nNotation\nDefinition\n\n\n\n\nAverage Treatment Effect (ATE)\n\\(\\tau_{ATE}\\)\nThe average of individual treatment effects \\(\\tau\\), for all individuals in our study, including people who did and didn’t get the treatment.\n\n\nAverage Treatment Effect on the Treated (ATT)\n\\(\\tau_{ATT}\\)\nThe average of individual treatment effects \\(\\tau\\), but only for individuals who receive the treatment in our study. We ignore those who never receive treatment in our study.\n\n\nLocal Average Treatment Effect (LATE)\n\\(\\tau_{LATE}\\)\nThe average of individual treatment effects \\(\\tau\\), but only for a specific (local) group of individuals in a study. This group is usually defined by some characteristic the individuals hold together.\n\n\n\nRemember that these are causal estimands - the true causal effects in the world. We do not have both potential outcomes, so we will need some strategy to estimate these true causal effects.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Causal Frameworks</span>"
    ]
  },
  {
    "objectID": "frameworks.html#heterogenous-treatment-effects",
    "href": "frameworks.html#heterogenous-treatment-effects",
    "title": "2  Causal Frameworks",
    "section": "Heterogenous Treatment Effects",
    "text": "Heterogenous Treatment Effects\nRemember our individual treatment effect \\(\\tau\\):\n\\[\n\\tau = \\textcolor{purple}{Y(1)} - \\textcolor{purple}{Y(0)}\n\\]\nAs the name implies, this is an individual effect, that belongs to an individual within our study. We typically have multiple individuals in a study.\nBecause we have multiple individuals in a study, we will also have multiple individual treatment effects \\(\\tau\\), one for each individual. This means we can have two scenarios:\n\n\n\n\n\n\n\nHomogenous Treatment Effects\nHeterogenous Treatment Effects\n\n\n\n\nWhen the individual treatment effects \\(\\tau\\) are the same across all individuals. This implies that the treatment has the same causal effect for everyone.\nWhen the individual treatment effects \\(\\tau\\) differ between different individuals. This is often based on some characteristics of individuals.\n\n\n\nAn example of a heterogenous treatment effect is that a maternity leave policy treatment probably has different effects on men vs. women.\nThe reason homogenous and heterogenous treatment effects are important is that they often influence what type of strategies we can use in causal estimation, as we will see later.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Causal Frameworks</span>"
    ]
  },
  {
    "objectID": "frameworks.html#uncertainty-and-inference",
    "href": "frameworks.html#uncertainty-and-inference",
    "title": "2  Causal Frameworks",
    "section": "Uncertainty and Inference",
    "text": "Uncertainty and Inference\nWe do not know the values of counterfactuals, the potential outcomes that we do not observe. Thus, we have to estimate these counterfactuals with an estimator to get causal estimates.\nHowever, an estimation process has a level of uncertainty. We cannot be sure that our estimates are accurate. We quantify that uncertainty in our causal effect estimates with a standard error. This value tells us how precise our estimates are.\n\nSmaller standard errors means we are more confident about our estimates.\nLarger standard errors means we are less certain about our estimates.\n\nWith our standard errors, we can calculate how likely that there is zero (no) causal effect (called a p-value). This procedure is called a hypothesis test.\n\nIf our p-value is less than 0.05 (5%), there is less than a 5% chance that there is zero causal effect, which implies 95%+ chance there is a causal effect. In this case, we say there is a statistically significant causal effect.\nIf our p-value is larger than 0.05 (5%), there is a greater than 5% chance that the causal effect is 0. We generally conclude that there is no statistically significant causal effect.\n\nIn most software and reports, if there is a p-value less than 5%, the authors will put stars (**) next to the estimate. If you see any stars, there is statistically significant causal effect.\n\n\n\n\n\nIn the figure above, you can see the stars *** indicate a non-zero causal effect. Do not worry about interpreting the table now - we will show more details in the following chapters.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Causal Frameworks</span>"
    ]
  }
]